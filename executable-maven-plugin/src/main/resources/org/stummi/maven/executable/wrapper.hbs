#!/bin/sh -e

################################
# GENERATED FILE - DO NOT EDIT # 
################################

#####
# Build time: {{buildTime}}
# Plugin Version: {{pluginVersion}}
#####

groupId="{{project.groupId}}"
artifactId="{{project.artifactId}}"
version="{{project.version}}"
name="{{project.name}}"

{{> tools }}

# echo "Welcome to ${name} ${version}"

tmpDir=$(mktemp -dt "${artifactId}.XXXX")
trap 'rm -rf "$tmpDir"' EXIT

case $0 in
 /*) file=$0 ;;
 */*) file=$PWD/$0 ;;
 *)
  echo "Cannot determine executable path"
  exit 1 
  ;;
esac

(
    cd "$tmpDir" &&
    dd if="$file" bs={{dataOffset}} skip=1 2> /dev/null | tar xz
)

"$tmpDir/jre/bin/java" -jar "$tmpDir/"*.jar "$@"
exit

